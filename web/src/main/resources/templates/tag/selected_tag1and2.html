<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragment/common :: head('i-Five 뮤지컬 프로젝트','css/tag.css')}">
</head>

<body>
    <!-- 상단 네비바 -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" th:replace="~{fragment/common :: top-nav('home')}">
    </nav>

    <div class="container" style="margin-top: 56px;">
        <h1 th:text="'선택된 태그 : ' + ${tagName1} + ' , ' +${tagName2}"></h1>
    </div>

    <div class="container">
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('love')" th:if="${tag1 ne 'love' and tag2 ne 'love'}">사랑</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('opera')" th:if="${tag1 ne 'opera' and tag2 ne 'opera'}">오페라</button>
        
        <!-- 태그 : 아이 -->
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('child')" th:if="${tag1 ne 'child' and tag2 ne 'child'}">가족</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('friend')" th:if="${tag1 ne 'friend' and tag2 ne 'friend'}">친구</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('art')" th:if="${tag1 ne 'art' and tag2 ne 'art'}">예술</button>

        <!-- 태그 : 마법 -->
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('magic')" th:if="${tag1 ne 'magic' and tag2 ne 'magic'}">판타지</button>
        
        <!-- 태그 : 사람 -->
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('person')" th:if="${tag1 ne 'person' and tag2 ne 'person'}">휴머니즘</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('history')" th:if="${tag1 ne 'history' and tag2 ne 'history'}">역사</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('fear')" th:if="${tag1 ne 'fear' and tag2 ne 'fear'}">공포</button>

        <!-- 태그 : 웃음 -->
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('laugh')" th:if="${tag1 ne 'laugh' and tag2 ne 'laugh'}">코미디</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="redirectToUrlWithTag3('sad')" th:if="${tag1 ne 'sad' and tag2 ne 'sad'}">슬픔</button>
    </div>
    
    
    <script th:inline="javascript">
        /*<![CDATA[*/
        function redirectToUrlWithTag3(tag3) {
            var baseUrl = '/tags/allTagsSelected' ;
            const tag1 = /*[[${tag1}]]*/[] ;
            const tag2 = /*[[${tag2}]]*/[] ;
            console.log(tag1);
            console.log(tag2);
            console.log(tag3);
            var url = baseUrl + '?tag1=' + tag1 + '&tag2=' + tag2 +'&tag3=' + tag3 ; // 수정된 부분: '?' 대신 '&'
    
            window.location.href = url;
        }
        /*]]>*/
    </script>
    <footer th:replace="~{fragment/common :: footer}"></footer>
</body>

</html>
